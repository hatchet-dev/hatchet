V1CELDebugRequest:
  type: object
  properties:
    expression:
      type: string
      description: The CEL expression to evaluate
    input:
      type: object
      description: The input, which simulates the workflow run input
    filterPayload:
      type: object
      description: The filter payload, which simulates a payload set on a previous-created filter
    additionalMetadata:
      type: object
      description: Additional metadata, which simulates metadata that could be sent with an event or a workflow run
  required:
    - expression
    - input

V1CELDebugResponseStatus:
  type: string
  description: The status of the CEL evaluation
  enum:
    - SUCCESS
    - ERROR

V1CELDebugSuccessResponse:
  type: object
  properties:
    status:
      type: string
      const: "SUCCESS"
    output:
      type: boolean
      description: The result of the CEL expression evaluation
  required:
    - status
    - output
  additionalProperties: false

V1CELDebugErrorResponse:
  type: object
  properties:
    status:
      type: string
      const: "ERROR"
    error:
      type: string
      description: The error message if the evaluation failed
  required:
    - status
    - error
  additionalProperties: false

V1CELDebugResponse:
  oneOf:
    - $ref: "#/V1CELDebugSuccessResponse"
    - $ref: "#/V1CELDebugErrorResponse"
  discriminator:
    propertyName: status
    mapping:
      SUCCESS: "#/V1CELDebugSuccessResponse"
      ERROR: "#/V1CELDebugErrorResponse"