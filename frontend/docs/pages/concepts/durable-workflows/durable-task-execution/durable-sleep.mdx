import { snippets } from "@/lib/generated/snippets";
import { Snippet } from "@/components/code";
import { Callout, Card, Cards, Steps, Tabs } from "nextra/components";
import UniversalTabs from "@/components/UniversalTabs";

# Durable Sleep

Durable sleep is a feature of **durable tasks** which pauses execution for a specified amount of time.

<Callout type="info">
  Sleeping puts the task into an [evictable state](/concepts/durable-workflows/durable-task-execution/task-eviction) â€” the worker slot is freed and the task is re-queued when the sleep expires.
</Callout>

<Callout type="info">
  DAG workflows have an analogous feature: [Sleep Conditions](/concepts/durable-workflows/directed-acyclic-graphs/sleep-conditions). In a DAG, sleep conditions are declared upfront on the task definition. Use a durable task when the decision to sleep is made dynamically at runtime.
</Callout>

Unlike a language-level sleep (e.g. `time.sleep` in Python or `setTimeout` in Node), durable sleep is guaranteed to respect the original duration across interruptions. A language-level sleep ties the wait to the local process, so if the process restarts, the sleep starts over from zero.

For example, say you'd like to send a notification to a user after 24 hours. With `time.sleep`, if the task is interrupted after 23 hours, it will restart and sleep for 24 hours again (47 hours total). With durable sleep, Hatchet tracks the original deadline server-side, so the task will only sleep for 1 more hour on restart.

## Using durable sleep

Durable sleep can be used by calling the `SleepFor` method on the `DurableContext` object. This method takes a duration as an argument and will sleep for that duration.

<UniversalTabs items={["Python", "Typescript", "Go", "Ruby"]}>
  <Tabs.Tab title="Python">

<Snippet src={snippets.python.durable_sleep.worker.durable_sleep} />

</Tabs.Tab>
<Tabs.Tab title="Typescript">

<Snippet src={snippets.typescript.durable_sleep.workflow.durable_sleep} />

</Tabs.Tab>
<Tabs.Tab title="Go">

<Snippet src={snippets.go.durable.sleep.main.durable_sleep} />

</Tabs.Tab>
  <Tabs.Tab title="Ruby">
    <Snippet src={snippets.ruby.durable_sleep.worker.durable_sleep} />
  </Tabs.Tab>
</UniversalTabs>
