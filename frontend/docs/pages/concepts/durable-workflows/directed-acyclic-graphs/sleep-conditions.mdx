import { Snippet } from "@/components/code";
import { snippets } from "@/lib/generated/snippets";

import { Callout, Tabs } from "nextra/components";
import UniversalTabs from "@/components/UniversalTabs";

# Sleep Conditions

Sleep conditions pause a DAG task for a specified duration before it runs. Use them when a task should wait for a fixed amount of time after its parent tasks complete.

<Callout type="info">
  Durable tasks have an analogous feature: [Durable
  Sleep](/concepts/durable-workflows/durable-task-execution/durable-sleep). In a
  DAG, sleep conditions are declared upfront on the task definition. In a
  durable task, `SleepFor` is called at runtime from within the function body.
  Use a DAG sleep condition when the delay is part of a fixed pipeline; use a
  durable task when the decision to sleep is made dynamically.
</Callout>

## Using sleep conditions

Declare a task with a `wait_for` sleep condition. The task will wait for its parent tasks to complete, then sleep for the specified duration before executing.

<UniversalTabs items={["Python", "Typescript", "Go", "Ruby"]}>
  <Tabs.Tab title="Python">
    <Snippet src={snippets.python.conditions.worker.add_wait_for_sleep} />
  </Tabs.Tab>
  <Tabs.Tab title="Typescript">
    <Snippet
      src={
        snippets.typescript.dag_match_condition.complex_workflow
          .add_wait_for_sleep
      }
    />
  </Tabs.Tab>
  <Tabs.Tab title="Go">
    <Snippet src={snippets.go.conditions.main.add_wait_for_sleep} />
  </Tabs.Tab>
  <Tabs.Tab title="Ruby">
    <Snippet src={snippets.ruby.conditions.worker.add_wait_for_sleep} />
  </Tabs.Tab>
</UniversalTabs>

This task will first wait for its parent to complete, then sleep for the specified duration before executing.

## Combining with other conditions

Sleep conditions can be combined with other conditions using or groups. For example, you can wait for _either_ a sleep duration or an event (whichever comes first). See [Combining Conditions](/concepts/durable-workflows/directed-acyclic-graphs/combining-conditions) for details.
